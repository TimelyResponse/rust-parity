name: parity-bitcoin
version: git
version-script: - $(grep -m 1 version Cargo.toml | awk '{print $3}' | tr -d '"' | tr -d "\n")
summary: The Parity Bitcoin client
description: |
  Bitcoin client written in Rust.

grade: devel # must be 'stable' to release into candidate/stable channels
confinement: strict

apps:
  parity-bitcoin:
    command: pbtc
    plugs: [home, network, network-bind, removable-media]

parts:
  parity-bitcoin:
    source: .
    plugin: rust
    build-attributes: [no-system-libraries]
    build-packages:
      - g++
